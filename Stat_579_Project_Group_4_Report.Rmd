---
title: "City of Chicago Lawsuits"
subtitle: |
  | Abraham Adokwei, Robert Castaneda, Valerie Han,    
  | Marie Hardt, and Andrew Maloney  
date: "November 2020"
output: html_document
documentclass: report
pagenumber: T
margin: 1in
references:
- id: EofC
  title: Shakman Decrees
  author:
  - family: Fross
    given: Roger R.
  container-title: The Electronic Encyclopedia of Chicago
  URL: 'http://www.encyclopedia.chicagohistory.org/pages/1138.html'
  publisher: Chicago Historical Society
  type: article
  issued:
    year: 2005
- id: judge
  title: Shakman v. City of Chicago
  URL: 'https://casetext.com/case/shakman-v-city-of-chicago-2'
  publisher: No. 69 C 2145 (N.D. Ill. Mar. 18, 2008)
  type: book
  issued: 2008
- id: casenumberformats
  title: "YOUR TAX DOLLARS AT WORK! CHICAGO POLICE LAWSUIT PAYMENTS: HOW MUCH, AND FOR WHAT?"  
  author: 
  - family: Iris  
    given: Mark 
  container-title: Virginia Journal of Criminal Law  
  URL: 'http://virginiajournalofcriminallaw.com/wp-content/uploads/2014/08/2.1-Iris-SMW-3.31.14.pdf'
  publisher: Virginia Journal of Criminal Law
  type: article  
  issued:    
      year: 2014
- id: circuitcourtcasesearch
  title: "Full Electronic Docket Search | Clerk of the Circuit Court of Cook County"
  author: 
  - family: "Clerk of the Circuit Court of Cook County"
  URL: 'http://www.cookcountyclerkofcourt.org/CourtCaseSearch/DocketSearch.aspx'  
  type: article  
- id: CIcaseformat  
  title: "Addendum No. 2 To REQUEST FOR PROPOSAL (“RFP”) For THIRD PARTY LIABILITY CLAIMS ADMINISTRATOR SERVICE"
  author: 
  - family: "Department of Procurement Services - City of Chicago"
  URL: 'https://www.chicago.gov/content/dam/city/depts/dps/ContractAdministration/Addendum/2019Addendum/Spec712589Addendum2.pdf' 
  type: article
- id: firedept
  title: White firefighters battle city’s promotion policy
  author:
    - family: Snelling
      given: Karen
  URL: 'https://www.chicagoreporter.com/white-firefighters-battle-citys-promotion-policy/'
  type: article
  issued:
    year: 1990
    month: 3
    day: 1

---

```{r}
# Can use this function to quickly install and load all packages

#Load required Packages



#packages <- c("readxl", "tidyverse", "purrr", "shiny", "shinydashboard",
             # "shinydashboardPlus", "shinythemes", "stringr", "ggplot2", "plotly", "lubridate",
              #"viridis", "rayshader")

#for (pkgs in packages){
# if(!require(pkgs, character.only = TRUE)){ # Condition 
#  install.packages(pkgs) # Install if not in set 1
# library(pkgs) # Load if installed
#}
#}


```

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(readxl)
library(stringr)
library(ggplot2)
library(plotly)
library(lubridate)
library(viridis) #optional
library(naniar)
```


## Introduction

Our project looks at lawsuits and administrative claims involving the City of Chicago from 2008-2019. Aside from a very small number of cases which will be touched on later in the report, this dataset contains only successful lawsuits (meaning the City had to pay out money). The City has many departments in charge of dealing with various sectors of the city. With that being said, sometimes these departments make mistakes, either deliberately or accidentally. A lot of these occurrences result in lawsuits filed against the city. This could include a person getting hit by a bus and then suing the city and the corresponding transportation department. We could also have a much smaller scale lawsuit, such as a water leak from a nearby construction site damaging a homeowner’s yard. This could turn into a lawsuit involving the water management department.
 
For our particular analysis, we were mostly interested in lawsuits, as administrative claims are on a much smaller scale. The first step we took was cleaning the data and determining which variables we wanted to keep, alter, or just throw out. Since this was a crucial part of our analysis, it will be addressed more in our data cleaning section. Initially, our main analysis focused on the amount of money in a particular lawsuit and the relationship it had with our other variables, such as date. After cleaning and inspecting the data more closely, we decided we were also very interested in the city department and the primary causes of the lawsuit. We wanted to answer questions such as:

* Which departments are more often involved in lawsuits?
* Is there a relationship between the year and the department involved?
* Are there repeat primary causes that the city is getting sued for?

Another interesting aspect of the data was the case number associated with each observation. Can the case number tell us something about a specific court or a type of case? Again, we did extensive work on this and will address it in more detail later. One particular area of interest was that a single case number (69 C 2145) occurred over one thousand times in the dataset. After further research, we discovered that this case number is associated with litigation that has been ongoing since 1969. This lawsuit, *Shakman v. City of Chicago*, will be discussed in further detail later.

Lastly, and the reason we ultimately ended up choosing this topic over others was our interest in lawsuits involving the police department. Given that the main social talking point in the last few years in America has revolved around race and police misconduct, we were especially interested in investigating the police department. To no surprise, the police department has about double the cases than the next largest department. Our analysis will include a very focused look at the police department and the relationship between our other variables.

## Dataset Cleaning

```{r echo = F, message=FALSE}
df <- read_excel("all_lawsuits_2008_to_2019.xlsx")
```

```{r echo = F, warning=FALSE, message=F}
#Spaces in column names are a no no for me so I am going to replace them with underscores using gsub

names(df) <- gsub(" ", "_", names(df))

```

```{r echo = F, warning=F, message=F}
# Let's first investigate the missing values throughtout the data set


vis_miss(df)

 df %>%
  gather(key = "columns", value = "column_values") %>%
    mutate(missing_values = is.na(column_values)) %>%
      group_by(columns) %>%
        mutate(total_values = n()) %>%
          group_by(columns, missing_values, total_values)%>%
       summarise(number_of_missing_values = n()) %>%
        #filter(missing_values == TRUE) %>% select(-missing_values) %>% can see total number of NA values for each column
          mutate(percent_missing = (number_of_missing_values/total_values) * 100) %>%
  ggplot(aes(x = reorder(columns, desc(percent_missing)), y = percent_missing, fill = missing_values))+
    geom_bar(stat = "identity")+
      coord_flip()+ 
        ggtitle("Percentage of Missing Values throughout the Dataset")+
          xlab("Column Names")+ylab("Percentage")+
            theme_bw() + scale_fill_manual(values = c("Chartreuse3", "firebrick2"))

#ggsave(xx, "missing_values_pic.png")

# 0.48% missing values for Case_Number
# <0.1% missing values for Payment_Amount
# <0.1% missing values for Fees_and_Costs
# <0.1% missing values for Primary_Cause
# 50.36% missing values for Tort
# <0.1% missing values for Date_to_Comptroller
# <0.1% missing values for Year_to_Comptroller
# <0.1% missing values for Month_to_Comptroller
# <0.1% missing values for Payment_Amount(millions)
# <0.1% missing values for Fees_and_Costs(millions)
# <0.1% missing values for Total_Paid
# <0.1% missing values for Total_Paid(Millsions)
# 100 % missing values for Payment_Fund, Effective_Data, Due_Date, and Client_Department

# 3 Columns contain no missing values
# 16 columns contain missing values, 4 out of those 16 columns are completely missing

```

```{r echo = F, warning=F, message=F}
# Columns that are 100% missing data are of no use so I am removing them

df <- df %>% select(-Payment_Fund, -Effective_Date, -Due_Date, -Client_Department)

```

```{r echo = F, warning=F, message=F}

#Tort column is easy fix, NA should be 0

df <- df %>%
  mutate(Tort = ifelse(is.na(Tort) == TRUE, 0, Tort))


```

```{r echo = F, warning=F, message=F}

df %>%
  gather(key = "columns", value = "column_values") %>%
    mutate(missing_values = is.na(column_values)) %>%
          group_by(columns, missing_values)%>%
       summarise(number_of_missing_values = n()) %>%
        filter(missing_values == TRUE) %>% select(-missing_values) 


# There are only 79 missing values left.  Do these values have a pattern or are they just missing

df %>% filter(is.na(Case_Number) == TRUE) #Looks like case Numbers are missing on there own (1)

df %>% filter(is.na(Date_to_Comptroller) == TRUE) # Date_to_Comptroller is the joined Year, Month, including day, they each have 2 missing values making a total of 6.  This should be re-separated to include day names could be better as well. (3)

df %>% filter(is.na(Fees_and_Costs) == TRUE) # Fees_and_cost and Fees_and_costs(millions) are linked.  Can remove missing values or take average value based on Primary_Cause (2)

df %>% filter(is.na(Payment_Amount) == TRUE) # Payment_Amount and Payment_Amount(millions) are linked.  The Fees_and_Costs for this observation are really high, could be an entry error.  Need to look at average Payment_Amount and Fees_Costs (2) associated with "UNLAWFUL SEARCH/FALSE ARREST

df %>% filter(is.na(Total_Paid) == TRUE) # One of the observations for the row containing missing Total_Paid has a valid Payment amount. Possible Entry issue. The other one is linked with the really high Fees_and_Costs observation.  Therefore it could be possible that 3 observations are linked across Total_Paid, Payment_Amount, and Fees_and_Costs (2)

df %>% filter(is.na(Primary_Cause) == TRUE) # Missing primary cost deals with Transportation department and has a date.  Probably can look up or remove

```

```{r echo = F, warning=FALSE, message=F}

df %>% group_by(City_Department_Involved) %>% summarise(n = length(unique(Primary_Cause)))

df$City_Department_Involved <- ifelse(df$City_Department_Involved %in% c("ANIM CARE & CONTROL", "ANIMAL C0NTROL", "ANIMAL CARE/CONTROL"), "ANIMAL CONTROL", df$City_Department_Involved) #Animal Services

df$City_Department_Involved <- ifelse(df$City_Department_Involved %in% c("BUS AFFAIRS & LCNSE", "BUS. AFFAIRS/CONS. SERV."), "BUS AFFAIRS", df$City_Department_Involved) # Bus Services

df$City_Department_Involved <- ifelse(df$City_Department_Involved %in% c("DEPT OF AVIATION"), "AVIATION", df$City_Department_Involved) #Aviation

df$City_Department_Involved <- ifelse(df$City_Department_Involved %in% c("CULT AFF & SPEC EVNT"), "CULTURAL AFFAIRS", df$City_Department_Involved) #Cultural Affairs

df$City_Department_Involved <-
  ifelse(df$City_Department_Involved %in% c("EMER MGMT & COMM", "EMERG COMMUNICATION", "MERG COMMUNICATIO"), "EMERGENCY COMMUNICATION", df$City_Department_Involved)#Emergency communications

df$City_Department_Involved <- ifelse(df$City_Department_Involved %in% c("ENVIRON."), "ENVIRONMENT", df$City_Department_Involved)
df$City_Department_Involved <- ifelse(df$City_Department_Involved %in% c("FAM & SUPPORT SRVCS"), "FAMILY & SUPPORT SERVICES", df$City_Department_Involved)
df$City_Department_Involved <- ifelse(df$City_Department_Involved %in% c("FIRE", "FIRE DEPT"), "FIRE DEPARTMENT", df$City_Department_Involved)
df$City_Department_Involved <- ifelse(df$City_Department_Involved %in% c("FLEET MGMT"), "FLEET MANAGEMENT", df$City_Department_Involved)
df$City_Department_Involved <- ifelse(df$City_Department_Involved %in% c("GEN. SERV."), "GENERAL SERVICES", df$City_Department_Involved)
df$City_Department_Involved <- ifelse(df$City_Department_Involved %in% c("HOUSING & ECON DEV"), "HOUSING", df$City_Department_Involved)

df$City_Department_Involved <- 
  ifelse(df$City_Department_Involved %in% c("WATER MGMT / SEWERS", "WATER MGMT / SEWER", "WATER", "SEWERS", "SEWER", "WATER MGMT / WATER"), "WATER MANAGEMENT", df$City_Department_Involved)


df$City_Department_Involved <- ifelse(df$City_Department_Involved %in% c("CDOT"), "TRANSPORTATION", df$City_Department_Involved)

df$City_Department_Involved <- ifelse(df$City_Department_Involved %in% c("HUMAN RESOURCES"), "HUMAN SERVICES", df$City_Department_Involved)
df$City_Department_Involved <- ifelse(df$City_Department_Involved %in% c("PUBLIC HEALTH", "DISABILITY"), "HEALTH", df$City_Department_Involved)
df$City_Department_Involved <- ifelse(df$City_Department_Involved %in% c("PUBLIC LIBRARY"), "LIBRARY", df$City_Department_Involved)
df$City_Department_Involved <- ifelse(df$City_Department_Involved %in% c("S&S"), "STREETS & SANITATION", df$City_Department_Involved)

```

```{r echo = F, warning=F, include=F, message=F}




#Can also clean primary causes

df %>% filter(City_Department_Involved == "POLICE") %>% {print(unique(.$Primary_Cause))}

df$Primary_Cause <- 
  ifelse(df$City_Department_Involved == "2FM" & df$Primary_Cause %in% c("MVA - CITY VEHICLE",
                                                                        "MVA / CITY VEHICLE"), "MVA/CITY VEHICLE", df$Primary_Cause)
#-------------------------------------------------------------------------------------------------------------------------------------------#

df$Primary_Cause <- 
  ifelse(df$City_Department_Involved == "ANIMAL CONTROL" & df$Primary_Cause %in% c("PROPERTY DAMAGE - OTHER", "PDOTH"), "PROPERTY DAMAGE/OTHER", df$Primary_Cause)

df$Primary_Cause <- 
  ifelse(df$City_Department_Involved == "ANIMAL CONTROL" & df$Primary_Cause %in% c("PIOTH"), "PERSONAL INJURY/OTHER", df$Primary_Cause)

#-------------------------------------------------------------------------------------------------------------------------------------------#

df$Primary_Cause <- 
  ifelse(df$City_Department_Involved == "BUILDINGS" & df$Primary_Cause %in% c("DAMAGE TO PROPERTY DURING OPERATIONS"), "PROPERTY DAMAGED DURING OPERATIONS", df$Primary_Cause)

df$Primary_Cause <- 
  ifelse(df$City_Department_Involved == "BUILDINGS" & df$Primary_Cause %in% c("PROPERTY DAMAGE - OTHER"), "PROPERTY DAMAGE/OTHER", df$Primary_Cause)

#----------------------------------------------------------------------------------------------------------------------------------------------#

df$Primary_Cause <- 
  ifelse(df$City_Department_Involved == "EMERGENCY COMMUNICATION" & df$Primary_Cause %in% c("MVA - CITY VEHICLE"), "MVA/CITY VEHICLE", df$Primary_Cause)

#-----------------------------------------------------------------------------------------------------------------------------------------------#

df$Primary_Cause <- 
  ifelse(df$City_Department_Involved == "FINANCE" & df$Primary_Cause %in% c("PROPERTY DAMAGE - OTHER", "PDOTH"), "PROPERTY DAMAGE/OTHER", df$Primary_Cause)

df$Primary_Cause <- 
  ifelse(df$City_Department_Involved == "FINANCE" & df$Primary_Cause %in% c("PDMVA", "MVA - PROPERTY DAMAGE ONLY"), "PROPERTY DAMAGE/MVA", df$Primary_Cause)



#-------------------------------------------------------------------------------------------------------------------------------------------------#

# Fire Continued............


df$Primary_Cause <- 
  ifelse(df$City_Department_Involved == "FIRE DEPARTMENT" & df$Primary_Cause %in% c("MVA - CITY VEHICLE"), "MVA/CITY VEHICLE", df$Primary_Cause)

df$Primary_Cause <- 
  ifelse(df$City_Department_Involved == "FIRE DEPARTMENT" & df$Primary_Cause %in% c("MVA - PROPERTY DAMAGE ONLY", "PDMVA", "MVA/PROPERTY DAMAGE"), "PROPERTY DAMAGE/MVA", df$Primary_Cause)

df$Primary_Cause <- 
  ifelse(df$City_Department_Involved == "FIRE DEPARTMENT" & df$Primary_Cause %in% c("PDOTH", "PROPERTY DAMAGE - OTHER"), "PROPERTY DAMAGE/OTHER", df$Primary_Cause)

df$Primary_Cause <- 
  ifelse(df$City_Department_Involved == "FIRE DEPARTMENT" & df$Primary_Cause %in% c("CITY FIRE FIGHTERS REV DISCRIM FROM 1986 LT EXAM"), "FIRE FIGHTERS CLAIM REVERSE DISCRIMINATION ON 1986 LT'S EXAM", df$Primary_Cause)

df$Primary_Cause <- 
  ifelse(df$City_Department_Involved == "FIRE DEPARTMENT" & df$Primary_Cause %in% c("TITLE VII DISPARATGE IMPACT", "TITLE VII/DISPARATE IMPACT"), "TITLE Vll DISPARATE IMPACT", df$Primary_Cause)

df$Primary_Cause <- 
  ifelse(df$City_Department_Involved == "FIRE DEPARTMENT" & df$Primary_Cause %in% c("RACE DISCRIMINATION, DISPARATE IMPACT", "RACE DISCRIMINATION", "RACE DISCRIMINATION DISPARATE IMPACT"), "RACIAL DISCRIMINATION", df$Primary_Cause)


#--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------#

df$Primary_Cause <- 
  ifelse(df$City_Department_Involved == "GENERAL SERVICES" & df$Primary_Cause %in% c("PERSONAL INJURY - OTHER"), "PERSONAL INJURY OTHER", df$Primary_Cause)

#------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------#

#Law Continued....................................................

#------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------#


df$Primary_Cause <- 
  ifelse(df$City_Department_Involved == "LEET MANAGEMEN" & df$Primary_Cause %in% c("MVA - PROPERTY DAMAGE ONLY"), "PROPERTY DAMAGE/MVA", df$Primary_Cause)

#---------------------------------------------------------------#

df$Primary_Cause <- 
  ifelse(df$City_Department_Involved == "LIBRARY" & df$Primary_Cause %in% c("MVA / CITY VEHICLE"), "MVA/CITY VEHICLE", df$Primary_Cause)

#-----------------------------------------------------------------------------------------------------------------------------------#
df %>% filter(City_Department_Involved == "POLICE") %>% {print(unique(.$Primary_Cause))}

df %>% filter(City_Department_Involved == "POLICE" & str_detect(Primary_Cause, "EXCESSIVE")) %>% {print(unique(.$Primary_Cause))}


df$Primary_Cause <- 
  ifelse(df$City_Department_Involved == "POLICE" & df$Primary_Cause %in% c("TITLE VII CIVIL RIGHTS ACT OF 1964",
                                                                            "TITLE VII AND CIVIL RIGHTS ACT",
                                                                            "VIOLATION OF TITLE VII"), "TITLE VII", df$Primary_Cause)


df$Primary_Cause <- 
  ifelse(df$City_Department_Involved == "POLICE" & df$Primary_Cause %in% c("TITLE VII NATIONAL ORIGIN",
                                                                           "TITILE VII - NATIONAL ORIGIN"), "TITLE VII/NATIONAL ORIGIN", df$Primary_Cause)



df$Primary_Cause <- 
  ifelse(df$City_Department_Involved == "POLICE" & df$Primary_Cause %in% c("MVA / CITY VEHICLE",
                                                                           "MVA/CITY VEHICLE IN PUBLIC WAY",
                                                                           "MVA - CITY VEHICLE",
                                                                           "VEHICLE COLLISION - CITY VEHICLE",
                                                                           "VEHICLE COLLISIONS - CITY VEHICLE"), "MVA/CITY VEHICLE", df$Primary_Cause)


df$Primary_Cause <- 
  ifelse(df$City_Department_Involved == "POLICE" & df$Primary_Cause %in% c("MVA - PROPERTY DAMAGE",
                                                                           "MVA/PROPERTY DAMAGE",
                                                                           "MVA -PROPERTY DAMAGE ONLY",
                                                                           "MVA - PROPERTY DAMAGE ONLY",
                                                                           "MVA - PROPERTY DAMAGE BIKE"), "PROPERTY DAMAGE/MVA", df$Primary_Cause)

df$Primary_Cause <- 
  ifelse(df$City_Department_Involved == "POLICE" & df$Primary_Cause %in% c("MVA - PEDESTRIAN",
                                                                           "MOTOR VEHICLE/ACCIDENT PEDESTRIAN"), "MVA/PEDESTRIAN", df$Primary_Cause)

df$Primary_Cause <- 
  ifelse(df$City_Department_Involved == "POLICE" & df$Primary_Cause %in% c("MVA/ER - POLICE",
                                                                           "MVA/ER-POLICE",
                                                                           "MVA - EMERGENCY RESPONSE",
                                                                           "POLICE/EMERGENCY RESPONSE"), "MVA/EMERGENCY/POLICE", df$Primary_Cause)
df$Primary_Cause <- 
  ifelse(df$City_Department_Involved == "POLICE" & df$Primary_Cause %in% c("MVA - ER"), "MVA/ER-MEDICAL", df$Primary_Cause)



df$Primary_Cause <- 
  ifelse(df$City_Department_Involved == "POLICE" & df$Primary_Cause %in% c("TITLE V11 - RACE DISCRIMINATION", "TITLE VII DISCRIMINATION", "RACE DISCRIMINATION"), "TITLE VII/DISCRIMINATION", df$Primary_Cause)

df$Primary_Cause <- 
  ifelse(df$City_Department_Involved == "POLICE" & df$Primary_Cause %in% c("SEXUAL DISCRIMINATION & HARASSEMENT"), "SEXUAL HARASSMENT DISCRIMINATION", df$Primary_Cause)


df$Primary_Cause <- 
  ifelse(df$City_Department_Involved == "POLICE" & df$Primary_Cause %in% c("OTHER POLICE MISCONDUCT: NON-INTENT.",
                                                                           "POLICE MISCONDUCT -  OTHER",
                                                                           "OTHER POLICE MISCONDUCT",
                                                                           "POLICE MISCONDUCT"), "POLICE/MISCONDUCT", df$Primary_Cause)



df$Primary_Cause <- 
  ifelse(df$City_Department_Involved == "POLICE" & df$Primary_Cause %in% c("ILLEGAL SEARCH AND SEIZURE",
                                                                           "ILLEGAL SEARCH/SEIZURE",
                                                                           "UNREASONABLE SEARCH & SEIZURE",
                                                                           "UNLAWFUL SEARCH",
                                                                           "ILLEGAL STOP AND SEARCH",
                                                                           "ILLEGAL STOP AND SEARCH",
                                                                           "WRONGFUL SEARCH",
                                                                           "UNLAWFUL SEARCH AND SEIZURE",
                                                                           "UNREASONABLE SEARCH",
                                                                           "ILLEGAL SEARCH & SEIZURE"), "ILLEGAL SEARCH", df$Primary_Cause)


df$Primary_Cause <- 
  ifelse(df$City_Department_Involved == "POLICE" & df$Primary_Cause %in% c("FALSE ARREST/UNLAWFUL SEARCH"), "UNLAWFUL SEARCH/FALSE ARREST", df$Primary_Cause)


df$Primary_Cause <- 
  ifelse(df$City_Department_Involved == "POLICE" & df$Primary_Cause %in% c("EXCESSIVE FORCE/UNLAWFUL SEARCH"), "EXCESSIVE FORCE/ILLEGAL SEARCH", df$Primary_Cause)

df$Primary_Cause <- 
  ifelse(df$City_Department_Involved == "POLICE" & df$Primary_Cause %in% c("ADA FAILURE TO ACCOMMODATE, DISCRIMATION"), "ADA DISCRIMINATION", df$Primary_Cause)



df$Primary_Cause <- 
  ifelse(df$City_Department_Involved == "POLICE" & df$Primary_Cause %in% c("FOIA SUIT",
                                                                           "FOIA ATTORNEY FEES",
                                                                           "FOIA LITIGATION",
                                                                           "FOIA ACTION",
                                                                           "FOIA VIOLATION"), "FOIA", df$Primary_Cause)


df$Primary_Cause <- 
  ifelse(df$City_Department_Involved == "POLICE" & df$Primary_Cause %in% c("CL VEH HIT CPD VEH FRONT END DMG CL VEH BOKUNIEWICZ JOSEPH",
                                                                           "CPD VEH REARENDED CL VEH UNDISCLOSED INJURIES FLAHERTY KENNETH W",
                                                                           "CPD RESCUE-CL BOAT DMGD GASH IN CL BOAT/DMG ANCHR",
                                                                           "CPD V HIT CL VEH LEFT SIDE DAMAGE CL VEH",
                                                                           "CPD VEH HIT CL VEH UNSPECIFIED VEH DAMAGE MENDEZ JEANNE R",
                                                                           "CPD PURSUIT 3 BROKEN WINDOWS",
                                                                           "CPD V BACKED INTO CL VEH FRONT RIGHT DAMAGE CL VEH SCHNEIDER KATHY",
                                                                           "CPD HIT CL VEH IN REAR REAR END DAMAGE CL VEH TIRADO GLORIA",
                                                                           "CPD V HIT CL PARKED VEH LEFT SIDE DAMAGE CL VEH HIGGS MARIA",
                                                                           "CPD V HIT CL PARKED VEH LEFT SIDE DAMAGE CL VEH HIGGS MARIA",
                                                                           "CPD B/INTO CL PARKED VEH MINOR SCRATCHES FRONT END UNKN UNKN",
                                                                           "CPD PUSH V INTO CL VEH LEFT SIDE DAMAGE CL VEH SCHOESSLING JOHN"), "UNKNOWN/VEHICLE/POLICE/RELATED", df$Primary_Cause)

df$Primary_Cause <- 
  ifelse(df$City_Department_Involved == "POLICE" & df$Primary_Cause %in% c("PERSONAL INJURY - OTHER", "PIOTH"), "PERSONAL INJURY/OTHER", df$Primary_Cause)



df$Primary_Cause <- 
  ifelse(df$City_Department_Involved == "POLICE" & df$Primary_Cause %in% c("EXCESSIVE FORCE/MALICIOUS PROSECUTION",
                                                                           "EXCESSIVE FORCE/FAILURE TO PROTECT",
                                                                           "EXCESSIVE FORCE/ELBOW STRIKE",
                                                                           "EXCESSIVE DETENITION/MALICIOUS PROSECUTION",
                                                                           "EXCESSIVE FORCE/FALSE ARREST/EMOTIONAL",
                                                                           "EXCESSIVE FORCE/TASER",
                                                                           "EXCESSIVE FORCE/ILLEGAL SEARCH",
                                                                           "EXCESSIVE FORCE/ILLEGAL SEIZURE",
                                                                           "EXCESSIVE FORCE/FAILURE TO INTERVENE",
                                                                           "EXCESSIVE FORCE/DENIAL OF MEDICAL CARE",
                                                                           "EXCESSIVE FORCE/SERIOUS/BURGE REPARATIONS"), "EXCESSIVE FORCE", df$Primary_Cause)


df$Primary_Cause <- 
  ifelse(df$City_Department_Involved == "POLICE" & df$Primary_Cause %in% c("EXCESSIVE FORCE - SERIOUS", "EXCESSIVE FORCE SERIOUS"), "EXCESSIVE FORCE/SERIOUS", df$Primary_Cause)


df$Primary_Cause <- 
  ifelse(df$City_Department_Involved == "POLICE" & df$Primary_Cause %in% c("EXCESSIVE FORCE/WRONGFUL DEATH"), "WRONGFUL DEATH", df$Primary_Cause)


df$Primary_Cause <- 
  ifelse(df$City_Department_Involved == "POLICE" & df$Primary_Cause %in% c("PROPERTY DAMAGED DURING OPERATIONS"), "DAMAGE TO PROPERTY DURING OPERATIONS", df$Primary_Cause)

df$Primary_Cause <- 
  ifelse(df$City_Department_Involved == "POLICE" & df$Primary_Cause %in% c("PROPERTY DAMAGE - OTHER", "PDOTH"), "PROPERTY DAMAGE/OTHER", df$Primary_Cause)

df$Primary_Cause <- 
  ifelse(df$City_Department_Involved == "POLICE" & df$Primary_Cause %in% c("UNREASONABLE SEIZURE & PROPERTY"), "ILLEGAL SEIZURE OF PROPERTY", df$Primary_Cause)

df$Primary_Cause <- 
  ifelse(df$City_Department_Involved == "POLICE" & df$Primary_Cause %in% c("MALICIOUS PROSECUTION/EXTENDED DETENTION"), "EXTENDED DETENTION/MALICIOUS PROSECUTION", df$Primary_Cause)

df$Primary_Cause <- 
  ifelse(df$City_Department_Involved == "POLICE" & df$Primary_Cause %in% c("VIOLATIONS OF CONSTIT. RIGHTS"), "VIOLATIONS OF CONSTITUTIONAL RIGHTS", df$Primary_Cause)

df$Primary_Cause <- 
  ifelse(df$City_Department_Involved == "POLICE" & df$Primary_Cause %in% c("CLAIM OF VIOLATION OF FIRST AMENDMENT RIGHTS"), "VIOLATED FIRST AMENDMENT RIGHTS", df$Primary_Cause)

df$Primary_Cause <- 
  ifelse(df$City_Department_Involved == "POLICE" & df$Primary_Cause %in% c("FALSE ARREST/EXCESSIVE FORCE",
                                                                           "FALSE ARREST/EXTENDED DETENTION",
                                                                           "FALSE ARREST/MALICIOUS PROSECUTION",
                                                                           "FALSE ARREST/CONSPIRACY"), "FALSE ARREST", df$Primary_Cause)
```


The City of Chicago lawsuits and administrative claims dataset contains 19 columns and 13454 observations. The main variable of interest is `Total_Paid`, which is the sum of `Payment_Amount` and `Fees_and_Costs` and thus the total amount of money paid by the City of Chicago. The `Case_Number` variable is discussed later on in this section in more detail. `Primary_Cause` is another main variable of interest, as this is the primary reason for the City to pay out the money. We describe how we combined some of the similar causes later on in this section. The `City_Department` is the department which was involved in the lawsuit. The `Disposition` is the outcome of the case (e.g. if the case was settled, dismissed, etc.). The `Date_to_Comptroller` is the date when the City actually pays out the money (not when the case is filed). We create two additional variables from this, namely `Year_to_Comptroller` and `Month_to_Comptroller`.

We first determined the number of missing values in each column. There were six columns that contained more than 0.1 percent of missing values. Variables (`Payment_Fund`, `Effective_Date`, `Due_Date`, and `Client_Department`) are completely missing. After further examination of the dataset, we determined that these four columns could not be filled, so we decided to remove them. The `Tort` column consisted of 50% missing values. Tort is an identifier column describing whether the case dealt with a wrongful act or an infringement of a right; 1 if yes and 0 if no.  We examined the primary cause column to determine whether to fill in the missing values as 0 or 1. Finally, we were left with a total of 79 cells that contain missing values. 64 of those missing values are missing case numbers. The remaining 15 missing values consisted of missing payments, fees, and dates to the comptroller.  The decision of whether to remove or fill in these missing values was left up to the individual performing their separate analysis.

There is still more data cleaning that needs to be done. The `City_Department` column contains duplicate departments that differ based on their character strings. We merge these City departments accordingly. Originally the dataset contained 75 city departments, and after merging duplicate departments, we were left with 48 city departments.

The `Primary_Cause` column also contains duplicate primary causes that differ based on their character strings, but it was much harder to clean than `City_Department`. The `Primary_Cause` column has many more duplicate and unique primary causes. For example, the police department originally had 238 primary causes associated with it. After merging the similar primary causes for the Police Department, we were left with 154 primary causes. Moreover, choosing whether to combine ambiguous primary causes was a challenge. We went through each city department and cleaned their primary causes based on what domain knowledge we had at our disposal.

Another variable of interest was the `Case_Number`. On their own, the case numbers are not very useful in analyzing the data, except for a few rare cases where there are many payees for the same case, such as the Shakman litigation we discuss later on. The case numbers take on forms such as “07 L 828,” “182-A05608-1,” and “CI-12-501254-01.” After doing further research, we were able to extract other information from certain formats. For example, case numbers with two numbers and a space followed by “L,”  “M,” or  “CH” are Cook County Circuit Court cases, and the letters “L,”  “M,” and  “CH” represent the Law, Civil, and Chancery Division, respectively. The first two numbers encode the year filed; for example, 07 and 74 represent 2007 and 1974, respectively [@casenumberformats; @circuitcourtcasesearch]. Similarly, case numbers formatted with two numbers and a space followed by “C” are Federal District Court cases; again, the numbers encode the year filed [@casenumberformats]. There were also some formats that we were able to identify as administrative claims, such as those that begin with “182,” “011,” “2011”, or “CI” [@casenumberformats; @CIcaseformat]. For these, we were unable to extract any other information, but this may be because administrative claims take a shorter time to process, and thus the year filed is not encoded into the case number. In the end, out of the 13,454 rows of data, we were left with only 171 rows whose case numbers we were unable to decipher.

```{r case-number, include=FALSE, echo=FALSE, message=FALSE, warning=FALSE}

df <- df %>%
  separate(Case_Number, into = c("Year_Filed", "Type", "Court_Case_Number"), 
           sep = " ", fill = "left") 
# Warning: Expected 3 pieces. Additional pieces discarded in 4 rows [4177, 7148, 8949, 10283].
# Let's fix these values
df$Court_Case_Number[4177] <- "7450"
df$Court_Case_Number[7148] <- "51 181 Y 01253 12"
df$Year_Filed[7148] <- NA
df$Type[7148] <- NA
df$Court_Case_Number[8949] <- "CC001"
df$Type[8949] <- "PRE LIT"
df$Court_Case_Number[10283] <- "992"
df$Type[10283] <- "C L"

# Examine Year_Filed values
unique(df$Year_Filed)

df %>%
  filter(Year_Filed == "69")
# This is fine. Shakman filed his lawsuit in 1969.
# https://en.wikipedia.org/wiki/Shakman_Decrees

df %>%
  filter(Year_Filed == "74")
# Looked into this and it looks plausible. (Possibly same Westlaw case as below)

df %>%
  filter(Year_Filed == "75")
# Looked into this and it looks plausible.

df %>%
  filter(Year_Filed == "10-3957")
# This is definitely separated wrong
df <- df %>%
  mutate(
    Type = ifelse(Year_Filed == "10-3957", NA, Type),
    Court_Case_Number = ifelse((!is.na(Year_Filed)) & (Year_Filed == "10-3957"), 
                               "10-3957 & 10-3965", Court_Case_Number), 
    Year_Filed = ifelse(Year_Filed == "10-3957", NA, Year_Filed)
  )
sum(is.na(df$Court_Case_Number))
# Now let's examine the Type
unique(df$Type)

df %>%
  filter(Type == "-")
# Looks fine, though Type doesn't really mean much in this case

# Fix Year_Filed
df <- df %>%
  mutate(
    Year_Filed = as.numeric(Year_Filed),
    Year_Filed = ifelse(Year_Filed < 20, Year_Filed+2000, Year_Filed+1900)
  ) 
summary(df$Year_Filed)  

# Fix Type
unique(df$Type)

df %>%
  filter(Type=="CH")
# Figured out that this is Chancery Court

df %>%
  filter(Type=="l")
# Couldn't find them on this website
# http://www.cookcountyclerkofcourt.org/CourtCaseSearch/DocketSearch.aspx

df %>%
  filter(Type=="m1")
# This is a typo. Should be M1. (Found in website directly above.)

# Use Type to get division and court
df <- df %>%
  mutate(
    Court = ifelse(Type %in% c("L", "CH", "M1", "M", "M6", "M2", "M4", "M5", "M3", "MI", "m1"),
                   "Cook County Circuit Court", NA),
    Court = ifelse(Type %in% c("C", "CV"), "Federal District Court", Court),
    Division = ifelse(Type=="L", "Law", NA),
    Division = ifelse(Type %in% c("M1", "M", "M6", "M2", "M4", "M5", "M3", "MI", "m1"), 
                      "Civil", Division),
    Division = ifelse(Type=="CH", "Chancery", Division)
  )

# Now we separate out the administrative claims using the case number
df <- df %>%
  separate(Court_Case_Number, into = c("Administrative", "Administrative_Case_Number"), 
           sep = "-", extra = "merge", fill = "left") 

df <- df %>%
  mutate(
    Administrative = ifelse(Administrative %in% c("182", "011", "2011", "CI"), 
                            TRUE, NA),
    Administrative = ifelse(!is.na(Court), FALSE, Administrative)
  )

# number of rows with unidentified case numbers
nrow(filter(df, is.na(Administrative)))
# number of rows in total
nrow(df)
```

In exploring the information we extracted from the case number, one strange thing we noticed was that there were some negative payouts for administrative claims. 

```{r negative-claims, echo=FALSE, message=FALSE, warning=FALSE}
df %>%
  filter(Administrative) %>%
  ggplot(aes(x = Total_Paid)) + 
  geom_histogram(binwidth = 500) + 
  ylab("Number of Claims") + 
  xlab("Total Paid by the City ($)") + 
  theme_bw()
# Some of the claims are negative, which is interesting.
# Why would people pay the city?
```

As mentioned in our introduction, there are a few cases in our dataset where it looks like the person or entity suing the city has to pay them money. Out of the 13,454 observations, only 111 of those contain negative values. We felt this was at least worth investigating. We first retracted the names of the payees that were involved in a case where a negative payment was made. Next, we looped through the dataset to retrieve all the rows (positive and negative payments) that these payees were involved in. We discovered that in almost every case where there is a negative payment there is an equal positive payment involving the same payee and exact same case number. This usually showed up as doubles or triples. For example, if Jane Smith had a payment of -$1000, then there was an equal payment made at a different date (and vice versa for a positive to a negative payment). 

Interestingly though, we found a lot of triples, meaning that the same payee, same case, had 2 equal negative amounts paid and 1 equal positive amount paid (or 2 positives and 1 negative). We hypothesized what to do with these values. Ultimately, we decided that they were not errors in the court reporting, but instead perhaps a case was appealed and the disposition (outcome) was overturned. Also of note, the negative values were such a small percentage of all the cases we conclude that leaving them is the right choice and does not affect our analysis.

## Case Number Analysis

One thing that might be of interest is the difference in payout between Federal District Court and the Cook County Circuit Court. In many cases, plaintiffs can choose which court to sue in. If one court generally offers a higher payout, plaintiffs may choose to sue in that court. Thus, we plotted a box plot of the payouts based on the type of court. Because the payouts are so right-skewed, we had to use a log scale. The median payout in the Federal District Court is noticeably higher than the Cook County Circuit Court, and the spreads are similar. 

```{r echo=FALSE, message=FALSE, warning=FALSE}
df %>%
  filter(!is.na(Court)) %>%
  ggplot(aes(x = Court, y = log10(Total_Paid))) + 
  geom_boxplot() + 
  labs(title = "How Much the City Paid in Court Cases by Type of Court") +
  theme_bw()
```

We can also examine a histogram of the payouts for the two courts. Since the payouts are very right-skewed, we’ll exclude the top 10% of payments. Interestingly, there are spikes at “round” numbers (e.g. \$10k, \$20k, \$30k). These spikes seem more apparent for federal court, which may be because there are more federal cases with a lot of payees that get the same amount, such as the Shakman case we discuss in the next section.

```{r echo=FALSE, message=FALSE, warning=FALSE}
df %>%
  filter(!is.na(Court), Total_Paid < quantile(Total_Paid, probs = .9, na.rm=TRUE),
         Total_Paid > 0) %>%
  ggplot(aes(x = Total_Paid)) +
  geom_histogram(binwidth = 1000) +
  xlab("Total Paid by the City ($)") +
  ylab("Number of Cases") +
  labs(title = "Amount Paid by City in Successful Court Cases (excluding top 10% of payments)") +
  facet_wrap(~Court) + 
  theme_bw()
# peaks at "round" numbers (e.g. $20k, $30k, etc.)
```


Now that we have both the `Year_Filed` and `Year_to_Comptroller` variables, we can get a rough estimate of the length of the court case. Although the variable is not very precise (e.g. a court case that was 2 years and 1 day could be labeled as 3 years), we can still see that out of the top 5 city departments, the fire department has by far the largest IQR.

```{r include=FALSE, echo=FALSE, message=FALSE, warning=FALSE}
# Choose certain departments
# Let's look at the number of cases in each department
df %>%
  mutate(
    Length = Year_to_Comptroller - Year_Filed
  ) %>%
  filter(!is.na(Length)) %>%
  group_by(City_Department_Involved) %>%
  summarize(n = n()) %>%
  arrange(-n)
# It looks like 300 cases might be a good cutoff
# City Wide is analyzed separately, so let's just look at 
# Police, Transportation, Water Management, Streets & Sanitation, Fire Department
```

```{r echo=FALSE, message=FALSE, warning=FALSE}
df %>%
  mutate(
    Length = Year_to_Comptroller - Year_Filed
  ) %>%
  filter(!is.na(Length), City_Department_Involved %in% 
           c("POLICE", "TRANSPORTATION", "WATER MANAGEMENT", 
             "STREETS & SANITATION", "FIRE DEPARTMENT")) %>%
  ggplot(aes(x = reorder(City_Department_Involved, Length, median), y = Length)) +
  geom_boxplot() +
  xlab("City Department Involved") + 
  ylab("Length of Court Case (Years)") + 
  coord_flip() + 
  theme_bw()
```

```{r include=FALSE, echo=FALSE, message=FALSE, warning=FALSE}
# Fire Department has far larger IQR. Why?
fire_long <- df %>%
  mutate(
    Length = Year_to_Comptroller - Year_Filed
  ) %>%
  filter(City_Department_Involved == "FIRE DEPARTMENT", Length >= 5) 
unique(fire_long$Primary_Cause)
nrow(fire_long)
nrow(filter(df, City_Department_Involved == "FIRE DEPARTMENT"))

nrow(fire_long %>%
  filter(Primary_Cause %in% c("FIRE FIGHTERS CLAIM REVERSE DISCRIM. 1986 LT'S EXAM", 
                              "FIRE FIGHTERS CLAIM REVERSE DISCRIMINATION ON 1986 LT'S EXAM")))

# There was a lawsuit filed against the fire department for reverse discrimination 
# in hiring and promoting
```

Investigating the 163 fire department cases that took 5 or more years, we found that 123 of them referenced “FIRE FIGHTERS CLAIM REVERSE DISCRIMINATION ON 1986 LT'S EXAM” as the primary cause. The Chicago fire department has tests for hiring and promotion of firefighters. Due to a 1980 court order to increase minority employment, the Chicago fire department standardized the test results by race, which led to some blacks with lower scores being hired or promoted over whites with higher scores. In 1986, the firefighters’ union filed a lawsuit against the fire department for reverse discrimination in hiring and promoting [@firedept], which led to the much larger IQR in the above graph.

Another critical question is whether a given lawsuit is “worth it.” Lawsuits take a great deal of money to carry out. One factor to look at is the payout. Again, we use the log scale. Examining the top five primary causes in the police department, we see that successful lawsuits with serious excessive force as their primary cause have the highest median payout of around \$100,000. In comparison, motor vehicle accidents which only caused property damage had the lowest median payout of somewhere between \$1000 to \$10,000. The three primary causes in the middle (illegal search/seizure, false arrest, and minor excessive force) have a similar median payout of somewhere between \$10,000 to \$100,000.


```{r include=FALSE, echo=FALSE, message=FALSE, warning=FALSE}
# Let's look at the top primary causes in the Police department
df %>%
  mutate(
    Length = Year_to_Comptroller - Year_Filed
  ) %>%
  filter(!is.na(Length), City_Department_Involved == "POLICE") %>%
  group_by(Primary_Cause) %>%
  summarize(n = n()) %>%
  arrange(-n)
```

```{r echo=FALSE, message=FALSE, warning=FALSE}
df %>%
  mutate(
    Length = Year_to_Comptroller - Year_Filed
  ) %>%
  filter(!is.na(Length), City_Department_Involved=="POLICE") %>%
  filter(Primary_Cause %in% c("FALSE ARREST", "EXCESSIVE FORCE/SERIOUS", 
                              "EXCESSIVE FORCE/MINOR", "PROPERTY DAMAGE/MVA",
                              "ILLEGAL SEARCH")) %>%
  ggplot(aes(x = reorder(Primary_Cause, Total_Paid, median), y = log10(Total_Paid))) + 
  geom_boxplot() +
  xlab("Primary Cause") + 
  ylab("log10(Total Paid by the City)") + 
  coord_flip() + 
  labs(title = "Total Payout by the City for the Top 5 Primary Causes") + 
  theme_bw()
```

However, this is far from the only factor a potential plaintiff ought to take into consideration; the length of the court case is another important factor. Longer court cases generally take more money to continue. Plotting boxplots of the lengths of court cases by primary cause, we see that serious excessive force cases have a much longer median length of around 3 years compared to the shortest median length of 0 years for motor vehicle accidents that only cause property damage. While the primary causes in the middle are still the same three as for the payout boxplots, the false arrest and illegal search/seizure median lengths are closer to 1 year while the minor excessive force median length is closer to 2 years.

```{r echo=FALSE, message=FALSE, warning=FALSE}
df %>%
  mutate(
    Length = Year_to_Comptroller - Year_Filed
  ) %>% 
  # Filtering by !is.na(Length) gives us only court cases because of how the 
  # column was originally created
  filter(!is.na(Length), City_Department_Involved=="POLICE") %>%
  filter(Primary_Cause %in% c("FALSE ARREST", "EXCESSIVE FORCE/SERIOUS", 
                              "EXCESSIVE FORCE/MINOR", "PROPERTY DAMAGE/MVA",
                              "ILLEGAL SEARCH")) %>%
  ggplot(aes(x = reorder(Primary_Cause, Length, median), y = Length)) + 
  geom_boxplot() +
  xlab("Primary Cause") + 
  ylab("Length of Court Case (Years)") + 
  coord_flip() + 
  labs(title = "Length of Court Case for the Top 5 Primary Causes") + 
  theme_bw()
```


## Shakman Consent Decree Litigation

While investigating the city departments with the most lawsuits and administrative claims where the city of Chicago had to pay money, we noted that there was only one unique primary cause for the city-wide cases. All of these cases went to the comptroller in May and June 2008. We decided to investigate these lawsuits further. 

```{r, echo = F, include=F}
df_cw <- df %>% filter(City_Department_Involved == "CITY WIDE")
unique(df_cw$Primary_Cause)
unique(df_cw$Year_to_Comptroller)
```

The primary cause of all of the city-wide lawsuits was a violation of the Shakman Consent Decree. Per the Encyclopedia of Chicago, the Shakman Consent Decree means that government workers cannot be hired or fired based on their political beliefs or support for a particular politician or political party [@EofC]. The Shakman Consent Decree resulted from Shakman v. City of Chicago, ongoing litigation that was originally filed in 1969. Michael L. Shakman and Paul M. Lurie initially filed a lawsuit on behalf of themselves and others who claimed that the City of Chicago made support of the Cook County Regular Democratic Organization a condition of employment with the city. This condition was a violation of the plaintiffs’ constitutional rights. Other plaintiffs have joined the suit as the litigation has continued over the past fifty years [@judge].

Our dataset contains information about Shakman litigation that resulted in payments by the City of Chicago in 2008. The City agreed to pay a \$12 million settlement for violations of the Shakman Consent Decree. Wayne Andersen, a judge in the federal district court, also ordered that the City should pay \$3,600,000 for attorney’s fees plus an additional $84,150.40 for attorney’s costs for the litigation [@judge]. The graphic below compares the amounts the City agreed to pay and the City’s actual disbursements according to the data we have.

```{r, echo = F}
payments2 <- data.frame(payment_amount = c(12000000, 3600000+84150.40, 11848340, 3670092), payment_status = c("Ordered", "Ordered", "Dataset", "Dataset"), payment_type=c("Payment to Plaintiffs", "Attorney Fees & Costs", "Payment to Plaintiffs", "Attorney Fees & Costs"))
payments2$payment_status <- factor(payments2$payment_status, levels = c("Ordered", "Dataset"))
payments2$payment_status <- factor(payments2$payment_status)

payments2 %>% ggplot(aes(x=payment_status, y=payment_amount, fill = payment_status))+
  geom_col()+
  facet_wrap(~payment_type)+
  scale_fill_grey(start = 0.5, end = 0.25)+
  labs(title="Comparison of Ordered Payments to Payments in Dataset",
       x = "Payment Type",
       y = "Payment Amount (US$)")+
  theme(legend.position = "none")+
  theme_bw()
```

From the graphic, we can see that the City of Chicago did pay close to the amounts it was required to pay, paying \$3.6 million for attorney’s fees and costs and spending about \$11.8 million to pay off the \$12 million settlement. The discrepancy could be due to taxes, interest, or some other factor.

```{r, echo=F, include=F}
sum(df_cw$Payment_Amount) # Total paid to plaintiffs
sum(df_cw$Fees_and_Costs) # total paid to attorney
```

```{r, echo=F}
df_cw_payees <- df_cw[-c(1:2),]
df_cw_payees %>% ggplot(aes(x=Payment_Amount))+
  geom_histogram(binwidth = 1000)+
  labs(title="Payments for Shakman Consent Decree Violation Lawsuits in 2008",
       x="Payment Amount (US$)",
       y="Number of Payees")+
  theme_bw()
```

```{r, echo = F, include=F}
# Summary of payments
df_cw_payees %>% group_by(Payment_Amount) %>% summarize(count = n())
```

Now we will further investigate the payments to individual plaintiffs in the litigation. We can see that 1,426 people received payments from the City of Chicago due to Shakman Consent Decree litigation in 2008. The twelve different payment amounts ranged from \$250 to \$100,000. The most common payment, \$1,500, was awarded to 418 people. Only one person received $100,000 as a result of this litigation. As *Shakman v. City of Chicago* is still ongoing litigation, it seems likely that the City of Chicago will continue to pay money for violations of the Shakman Consent Decree in the future.

## Conclusion
